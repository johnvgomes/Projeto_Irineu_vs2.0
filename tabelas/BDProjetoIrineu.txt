-- create database processo seletivo;


-- criando FN3


-- criando tabela país


create table country(
	
	cdCountry int auto_increment NOT NULL,
	nome_country varchar(200) NOT NULL,
	siglaCountry varchar(2)NOT NULL,
	nacionalidade varchar (100) NOT NULL,

	primary key (cdCountry)

);

-- criando tabela estado//////////


create table estado(
	
	cdEstado int auto_increment NOT NULL,
	nome_estado varchar(200) NOT NULL,
	siglaEstado varchar(2)NOT NULL,
	cd_country int,

	primary key (cdEstado),

	foreign key (cd_country) references country(cdCountry)
);


-- criando a tabela cidade

create table cidade(
	
	cdCidade int auto_increment NOT NULL,
	nome_cidade varchar(200)NOT NULL,
	cd_estado int,

	primary key (cdCidade),

	foreign key (cd_estado) references estado(cdEstado)
);


-- criando a tabela endereco

create table endereco(

	cdEndereco int auto_increment NOT NULL,
	cep int NOT NULL,
	rua varchar(200)NOT NULL,
	numero int NOT NULL,
	bairro varchar(100)NOT NULL,
	cd_cidade int,

	primary key (cdEndereco),

	foreign key (cd_cidade) references cidade(cdCidade)
	
);


-- criando a tabela estado civil


create table estadoCivil(
	cdEstadoCivil int NOT NULL,
	descricao_ec varchar(20) NOT NULL,

	primary key (cdEstadoCivil)
);


create table pessoas(
	
	cdPessoa int auto_increment NOT NULL,
	nome varchar(200) NOT NULL,
	data_nasc date NOT NULL,
	sexo varchar(20) NOT NULL,
	RG int NOT NULL,
	CPF int unique NOT NULL,
	passaporte varchar(200),
	nome_pai varchar(200),
	nome_mae varchar(200),
	ativo boolean,
	cd_estadocivil int,	
	
    primary key (cdPessoa),
                 

	foreign key (cd_estadocivil) references estadoCivil(cdEstadoCivil)
	
);

---retirado foreign key naturalidade pois nao tem tabela naturalidade;
---	foreign key (cd_naturalidade) references cidade(cd_naturalidade)




create table tipo_endereco(


	descricao varchar(100) NOT NULL,
	cd_pessoa int NOT NULL,
	cd_endereco int NOT NULL,


	primary key (cd_pessoa,cd_endereco),

	foreign key (cd_pessoa) references pessoas(cdPessoa),
	foreign key (cd_endereco) references endereco(cdEndereco)

);


-- criando a tabela telefone

create table telefone(
	
	cdTelefone int auto_increment NOT NULL,
	telefone int NOT NULL,

	primary key (cdTelefone)
	
);

-- criando a tabela tipo telefone

create table tipo_telefone(

	
	descricao varchar(100) NOT NULL,
	cd_pessoa int NOT NULL,
	cd_telefone int NOT NULL,


	primary key (cd_pessoa,cd_telefone),

	foreign key (cd_pessoa) references pessoas(cdPessoa),
	foreign key (cd_telefone) references telefone(cdTelefone)

);



-- criando a tabela escolaridade

create table escolaridade(
	
	cdEscolaridade int auto_increment NOT NULL,
	descricao varchar(200) NOT NULL,

	primary key (cdEscolaridade)
	
);

-- criando a tabela tipo_escolaridade (publica,bolsa,particular)



create table tipo_escolaridade(

	
	descricao varchar(100) NOT NULL,
	cd_pessoa int NOT NULL,
	cd_escolaridade int NOT NULL,


	primary key (cd_pessoa,cd_escolaridade),

	foreign key (cd_pessoa) references pessoas(cdPessoa),
	foreign key (cd_escolaridade) references escolaridade(cdEscolaridade)

);


create table emissor_RG(


	cd_pessoa int NOT NULL,
	emissor_rg varchar(30),

	primary key (cd_pessoa),

	
	foreign key (cd_pessoa) references pessoas(cdPessoa)
);

create table usuario(

	cd_pessoa int NOT NULL,
	usuario varchar (100) NOT NULL,
	senha varchar(50) NOT NULL,
	email varchar (100) NOT NULL,
	tipo varchar (50) NOT NULL,
	data_cad date NOT NULL,
   	data_last_update  date NOT NULL,
	
	primary key (cd_pessoa),

	
	foreign key (cd_pessoa) references pessoas(cdPessoa)

	
	);


	-- criando TABELA TIPO NOTIFICACAO


create table tipo_notificacao(
	
	cdTipoNotificacao int auto_increment NOT NULL,
	descricao varchar(200) NOT NULL,
    
    primary key (cdTipoNotificacao)
                 
);


-- criando TABELA NOTIFICACAO

create table notificacao(
	
	cd_tipo_notificacao int NOT NULL,
    cd_pessoa int NOT NULL,

    primary key (cd_tipo_notificacao,cdPessoa),
      
	  
	
	foreign key (cd_tipo_notificacao) references estadoCivil(cdTipoNotificacao),

	foreign key (cd_pessoa) references estadoCivil(cdPessoa)             
);
alterei para isso que esta abaixo******
create table notificacao(
	
	cd_tiponotificacao int NOT NULL,
    cd_pessoa int NOT NULL,

    primary key (cd_tiponotificacao,cd_pessoa),
      
	  
	
	foreign key (cd_tiponotificacao) references tipo_notificacao(cdTipoNotificacao),

	foreign key (cd_pessoa) references pessoas(cdPessoa)             
);
 
 
 -- criando TABELA TIPO_Deficiencia

create table tipo_deficiencia(
	
	cdTipoDeficiencia int auto_increment NOT NULL,
	descricao varchar(200) NOT NULL,
    
    primary key (cdTipoDeficiencia)
                 
);


-- criando TABELA DEFICIENCIA

create table deficiencia(
	

	tipo boolean NOT NULL,
	observacoes varchar(200) NOT NULL,
	cd_tipo_deficiencia int NOT NULL,
    cd_pessoa int NOT NULL,

    primary key (cd_tipo_deficiencia,cd_pessoa),
      
	  
	
	foreign key (cd_tipo_deficiencia) references tipo_deficiencia(cdTipoDeficiencia),

	foreign key (cd_pessoa) references pessoas(cdPessoa)             
);
 
 


 